# yaml-language-server: $schema=https://raw.githubusercontent.com/anthony-spruyt/xfg/main/config-schema.json
# Integration test: settings command with GitHub App token for bypass_actors
# Regression test for issue #378 - bypass_actors: null false diff
id: integration-test-github-app-settings

# Placeholder file required by schema - excluded from target repo
files:
  .xfg-settings-test:
    content: "# Placeholder for settings integration test"
    createOnly: true

settings:
  rulesets:
    xfg-app-bypass-test:
      target: branch
      enforcement: active
      bypassActors:
        - actorId: 2719952
          actorType: Integration
          bypassMode: always
      conditions:
        refName:
          include:
            - refs/heads/main
      rules:
        - type: pull_request
          parameters:
            requiredApprovingReviewCount: 0

repos:
  - git: https://github.com/anthony-spruyt/xfg-test.git
    files:
      .xfg-settings-test: false
